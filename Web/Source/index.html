<!doctype html>
<html>

<head>
    <title>WEB1 - Welcome</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">
    <script src="colors.js"></script>
    <!-- jQuery Library CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Google Analytics -->
    <script type="text/javascript" src="https://aaaaiiiiiee.github.io/googleAnalytics.js"></script>
    <!-- Google Login -->
    <meta name="google-signin-client_id"
        content="593805717137-l833308hd3h8tno2sve81tha53oi80k6.apps.googleusercontent.com">
    <script>
        function checkLoginStatus() {
            var loginBtn = document.querySelector('#loginBtn');
            var nameTxt = document.querySelector('#name');
            if (gauth.isSignedIn.get()) {
                console.log('logined');
                loginBtn.value = 'Logout';
                var profile = gauth.currentUser.get().getBasicProfile();
                nameTxt.innerHTML = 'Welcome ' + profile.getName();
            } else {
                console.log('logouted');
                loginBtn.value = 'Login';
                nameTxt.innerHTML = '';
            }
        }
        function init() {
            gapi.load('auth2', function () {
                console.log('auth2');
                window.gauth = gapi.auth2.init({
                    client_id: '593805717137-l833308hd3h8tno2sve81tha53oi80k6.apps.googleusercontent.com'
                })
                gauth.then(function () {
                    console.log('googleAuth success');
                    checkLoginStatus();
                }, function () {
                    console.log('googleAuth fail');
                })
            });
        }
    </script>
</head>

<body>
    <span id='name'></span><input type='button' id='loginBtn' value='checking...' onclick="
        if(this.value === 'login'){
            gauth.signIn().then(function(){
                console.log(gauth.signIn());
                checkLoginStatus();
            });
        } else{
            gauth.signOut().then(function(){
                console.log(gauth.signOut());
                checkLoginStatus();
            });
        }
    ">
    <h1><a href="index.html">WEB</a></h1>
    <input type="button" value="night" onclick="nightDayHandler(this)">
    <div id="grid">
        <ol>
            <li><a href="1.html">HTML</a></li>
            <li><a href="2.html">CSS</a></li>
            <li><a href="3.html">JavaScript</a></li>
        </ol>
        <div id="article">
            <h2>WEB</h2>
            <p>This is World Wide Web!!</p>
        </div>
    </div>
    <script src="https://apis.google.com/js/platform.js?onload=init" async defer></script>
</body>

</html>

<!---
    * Study Method by Frequency.
    www.advancedwebraning.com/html/
    -->
<!---
    * Internet's source of freely-usable images.
    unsplash.com
    -->
<!---
    * W3C 권고안
    html specification
    -->